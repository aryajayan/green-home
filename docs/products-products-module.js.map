{"version":3,"sources":["./src/app/products/store/product.action.ts","./src/app/products/store/product.effect.ts","./src/app/products/store/product.selector.ts","./src/app/products/product-card/product-card.component.ts","./src/app/products/product-card/product-card.component.html","./src/app/products/product.model.ts","./src/app/products/store/product.reducer.ts","./src/app/products/featured-products/featured-products.component.html","./src/app/products/featured-products/featured-products.component.ts","./src/app/products/products.module.ts","./src/app/products/products-list/products-list.component.ts","./src/app/products/products-list/products-list.component.html","./src/app/products/product-add/product-add.component.ts","./src/app/products/product-add/product-add.component.html","./src/app/products/products.component.ts","./src/app/products/products.component.html"],"names":[],"mappings":"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","file":"products-products-module.js","sourcesContent":["import { createAction, props } from '@ngrx/store';\r\nimport { Product } from '../product.model';\r\n\r\nexport const FetchProducts = createAction('[Product] Fetch Products');\r\nexport const FetchProductSuccess = createAction(\r\n  '[Product] Fetch Product Success',\r\n  props<{ products: Product[] }>()\r\n);\r\n\r\nexport const AddProduct = createAction(\r\n  '[Product] Add Product',\r\n\r\n  props<{\r\n    name: string;\r\n    price: number;\r\n    description: string;\r\n    image: string;\r\n    soldCount: number;\r\n  }>()\r\n);\r\n\r\nexport const AddProductSuccess = createAction(\r\n  '[Product] Add Product Success',\r\n\r\n  props<{\r\n    name: string;\r\n    price: number;\r\n    description: string;\r\n    image: string;\r\n    soldCount: number;\r\n  }>()\r\n);\r\n\r\nexport const ErrorOccured = createAction(\r\n  '[Product] Error Occured',\r\n  props<{\r\n    error: string;\r\n  }>()\r\n);\r\n","import { HttpClient } from '@angular/common/http';\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\n\r\nimport { of } from 'rxjs';\r\n\r\nimport { catchError, exhaustMap, map, tap } from 'rxjs/operators';\r\n\r\nimport * as ProductActions from './product.action';\r\nimport * as fromProduct from './product.reducer';\r\nimport { Store } from '@ngrx/store';\r\n\r\n@Injectable()\r\nexport class ProductEffects {\r\n  fetchProducts$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(ProductActions.FetchProducts),\r\n      exhaustMap((action) =>\r\n        this.http\r\n          .get(\r\n            'https://green-home-9ce8c-default-rtdb.firebaseio.com/products.json'\r\n          )\r\n          .pipe(\r\n            map((data) => {\r\n              const productsArray = [];\r\n              for (let key in data) {\r\n                productsArray.push(data[key]);\r\n              }\r\n              return ProductActions.FetchProductSuccess({\r\n                products: productsArray,\r\n              });\r\n            }),\r\n            catchError((error) =>\r\n              of(ProductActions.ErrorOccured({ error: error }))\r\n            )\r\n          )\r\n      )\r\n    )\r\n  );\r\n\r\n  addProduct$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(ProductActions.AddProduct),\r\n      exhaustMap((action) =>\r\n        this.http\r\n          .post(\r\n            'https://green-home-9ce8c-default-rtdb.firebaseio.com/products.json',\r\n            {\r\n              name: action.name,\r\n              price: action.price,\r\n              description: action.description,\r\n              image: action.image,\r\n              soldCount: action.soldCount,\r\n            }\r\n          )\r\n          .pipe(\r\n            map((data) =>\r\n              ProductActions.AddProductSuccess({\r\n                name: action.name,\r\n                price: action.price,\r\n                description: action.description,\r\n                image: action.image,\r\n                soldCount: action.soldCount,\r\n              })\r\n            ),\r\n            catchError((error) =>\r\n              of(ProductActions.ErrorOccured({ error: error }))\r\n            )\r\n          )\r\n      )\r\n    )\r\n  );\r\n\r\n  // signup$ = createEffect(() =>\r\n  //   this.actions$.pipe(\r\n  //     ofType(ProductActions.Signup),\r\n  //     exhaustMap((action) =>\r\n  //       this.http\r\n  //         .post(\r\n  //           'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCgX46Gu12bTfL5jpfQlH6bVg8wptF-XO4',\r\n  //           {}\r\n  //         )\r\n  //         .pipe(\r\n  //           map((data: Response) => ProductActions.AuthSuccess({})),\r\n  //           catchError((error) => of(ProductActions.AuthFail({ error: error })))\r\n  //         )\r\n  //     )\r\n  //   )\r\n  // );\r\n\r\n  addProductSuccess$ = createEffect(\r\n    () =>\r\n      this.actions$.pipe(\r\n        ofType(ProductActions.AddProductSuccess),\r\n        tap((action) => this.router.navigate(['/products/product-list']))\r\n      ),\r\n    { dispatch: false }\r\n  );\r\n\r\n  // authFail$ = createEffect(\r\n  //   () =>\r\n  //     this.actions$.pipe(\r\n  //       ofType(ProductActions.AuthFail),\r\n  //       tap((action) => console.log(action.error))\r\n  //     ),\r\n  //   { dispatch: false }\r\n  // );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n\r\n    private http: HttpClient,\r\n\r\n    private router: Router,\r\n    private store: Store<fromProduct.State>\r\n  ) {}\r\n}\r\n","import { createFeatureSelector, createSelector } from '@ngrx/store';\r\nimport * as fromProduct from './product.reducer';\r\nimport * as AppSelector from '../../app.selector';\r\n\r\nexport const selectProductState = createFeatureSelector(\r\n  fromProduct.productFeatureKey\r\n);\r\n\r\nexport const selectProducts = createSelector(\r\n  selectProductState,\r\n  (state) => state['products']\r\n);\r\n\r\nexport const selectError = createSelector(\r\n  selectProductState,\r\n  (state) => state['error']\r\n);\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Product } from '../product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-card',\r\n  templateUrl: './product-card.component.html',\r\n  styleUrls: ['./product-card.component.css'],\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  @Input() product: Product;\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"product-item\">\r\n  <div class=\"product-item-content\">\r\n    <div class=\"product-details\">\r\n      <div class=\"p-mb-3 image_content\">\r\n        <img class=\"product-image\"\r\n             [src]=\"product.image\"\r\n             alt=\"Bamboo Watch\">\r\n      </div>\r\n      <div>\r\n        <h4 class=\"p-mb-1\">{{product.name}}</h4>\r\n        <h6 class=\"p-mt-0 p-mb-3\">${{product.price}}</h6>\r\n      </div>\r\n    </div>\r\n    <div class=\"row product_buttons\">\r\n\r\n      <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 icon_content\">\r\n        <i class=\"fas fa-heart\"></i>\r\n      </div>\r\n      <div class=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 button_content\">\r\n        <button type=\"button\"\r\n                class=\"btn btn-primary cart_button primary_button\">\r\n          Add To Cart\r\n        </button>\r\n        <i class=\"fas fa-shopping-cart cart_icon primary_icon\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","export class Product {\r\n  constructor(\r\n    public name: string,\r\n    public price: number,\r\n    public description: string,\r\n    public image: string,\r\n    public soldCount: number\r\n  ) {}\r\n}\r\n","import { createReducer, on } from '@ngrx/store';\r\n\r\nimport { Product } from '../product.model';\r\n\r\nimport * as ProductActions from './product.action';\r\n\r\nexport interface State {\r\n  products: Product[];\r\n  error: string;\r\n}\r\n\r\nconst initialState = {\r\n  products: null,\r\n  error: null,\r\n};\r\n\r\nconst _productReducer = createReducer(\r\n  initialState,\r\n  on(ProductActions.FetchProductSuccess, (state, action) => ({\r\n    ...state,\r\n    products: action.products,\r\n    error: null,\r\n  })),\r\n  on(ProductActions.AddProduct, (state, action) => ({\r\n    ...state,\r\n    error: null,\r\n  })),\r\n  on(ProductActions.AddProductSuccess, (state, action) => ({\r\n    ...state,\r\n    products: [\r\n      new Product(\r\n        action.name,\r\n        action.price,\r\n        action.description,\r\n        action.image,\r\n        action.soldCount\r\n      ),\r\n      ...state.products,\r\n    ],\r\n    error: null,\r\n  }))\r\n);\r\n\r\nexport function productReducer(state, action) {\r\n  return _productReducer(state, action);\r\n}\r\n\r\nexport const productFeatureKey = 'product';\r\n","<ng-template *ngIf=\"products.length>0\">\r\n  <app-card-carousel [products]=\"products\"></app-card-carousel>\r\n</ng-template>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Product } from '../product.model';\r\nimport * as fromProduct from '../store/product.reducer';\r\nimport { selectProducts } from '../store/product.selector';\r\n\r\n@Component({\r\n  selector: 'app-featured-products',\r\n  templateUrl: './featured-products.component.html',\r\n  styleUrls: ['./featured-products.component.css'],\r\n})\r\nexport class FeaturedProductsComponent implements OnInit {\r\n  @Input() products: Product[] = [];\r\n  constructor(private store: Store<fromProduct.State>) {}\r\n\r\n  ngOnInit(): void {\r\n    // this.store.select(selectProducts).subscribe((data) => {\r\n    //   this.products = data;\r\n    // });\r\n    // this.products = [\r\n    //   {\r\n    //     name: 'test',\r\n    //     price: 100,\r\n    //     image:\r\n    //       'https://firebasestorage.googleapis.com/v0/b/green-home-9ce8c.appspot.com/o/buy-zz-plant-in-india.jpg?alt=media&token=c4feccd4-cf80-4d63-a91d-87f88ef27527',\r\n    //     description: '',\r\n    //   },\r\n    //   {\r\n    //     name: 'test2',\r\n    //     price: 100,\r\n    //     image:\r\n    //       'https://firebasestorage.googleapis.com/v0/b/green-home-9ce8c.appspot.com/o/buy-zz-plant-in-india.jpg?alt=media&token=c4feccd4-cf80-4d63-a91d-87f88ef27527',\r\n    //     description: '',\r\n    //   },\r\n    //   {\r\n    //     name: 'test3',\r\n    //     price: 100,\r\n    //     image:\r\n    //       'https://firebasestorage.googleapis.com/v0/b/green-home-9ce8c.appspot.com/o/buy-zz-plant-in-india.jpg?alt=media&token=c4feccd4-cf80-4d63-a91d-87f88ef27527',\r\n    //     description: '',\r\n    //   },\r\n    //   {\r\n    //     name: 'test4',\r\n    //     price: 100,\r\n    //     image:\r\n    //       'https://firebasestorage.googleapis.com/v0/b/green-home-9ce8c.appspot.com/o/buy-zz-plant-in-india.jpg?alt=media&token=c4feccd4-cf80-4d63-a91d-87f88ef27527',\r\n    //     description: '',\r\n    //   },\r\n    //   {\r\n    //     name: 'test5',\r\n    //     price: 100,\r\n    //     image:\r\n    //       'https://firebasestorage.googleapis.com/v0/b/green-home-9ce8c.appspot.com/o/buy-zz-plant-in-india.jpg?alt=media&token=c4feccd4-cf80-4d63-a91d-87f88ef27527',\r\n    //     description: '',\r\n    //   },\r\n    // ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FeaturedProductsComponent } from './featured-products/featured-products.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ProductsComponent } from './products.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { ProductsListComponent } from './products-list/products-list.component';\r\nimport { ProductAddComponent } from './product-add/product-add.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport * as fromProduct from './store/product.reducer';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { ProductEffects } from './store/product.effect';\r\nimport { ProductCardComponent } from './product-card/product-card.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductsComponent,\r\n    FeaturedProductsComponent,\r\n    ProductsListComponent,\r\n    ProductAddComponent,\r\n    ProductCardComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n    StoreModule.forFeature(\r\n      fromProduct.productFeatureKey,\r\n      fromProduct.productReducer\r\n    ),\r\n    EffectsModule.forFeature([ProductEffects]),\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: ProductsComponent,\r\n        children: [\r\n          { path: '', redirectTo: 'product-list' },\r\n          { path: 'product-list', component: ProductsListComponent },\r\n          { path: 'product-add', component: ProductAddComponent },\r\n        ],\r\n      },\r\n    ]),\r\n  ],\r\n})\r\nexport class ProductsModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport * as fromProduct from '../store/product.reducer';\r\nimport { selectProducts } from '../store/product.selector';\r\nimport * as ProductActions from '../store/product.action';\r\nimport { Product } from '../product.model';\r\n\r\n@Component({\r\n  selector: 'app-products-list',\r\n  templateUrl: './products-list.component.html',\r\n  styleUrls: ['./products-list.component.css'],\r\n})\r\nexport class ProductsListComponent implements OnInit {\r\n  allProducts: Product[] = [];\r\n  featured: Product[] = [];\r\n  constructor(private store: Store<fromProduct.State>) {}\r\n\r\n  ngOnInit(): void {\r\n    this.store.select(selectProducts).subscribe((data) => {\r\n      if (data == null) {\r\n        this.store.dispatch(ProductActions.FetchProducts());\r\n      } else {\r\n        this.featured = data.filter((item: Product) => item.soldCount > 10);\r\n        this.allProducts = data;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n    <app-featured-products [products]=\"featured\"></app-featured-products>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 product_list\">\r\n    <app-product-card *ngFor=\"let item of allProducts\"\r\n                      class=\"product_card_content\"\r\n                      [product]=\"item\"></app-product-card>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport * as fromUser from '../store/product.reducer';\r\nimport * as ProductActions from '../store/product.action';\r\n\r\n@Component({\r\n  selector: 'app-product-add',\r\n  templateUrl: './product-add.component.html',\r\n  styleUrls: ['./product-add.component.css'],\r\n})\r\nexport class ProductAddComponent implements OnInit {\r\n  productForm: FormGroup;\r\n  showImage: boolean = false;\r\n  imageUrl: string = '';\r\n  constructor(private store: Store<fromUser.State>) {}\r\n\r\n  ngOnInit(): void {\r\n    this.productForm = new FormGroup({\r\n      name: new FormControl('', Validators.required),\r\n      price: new FormControl(null, [Validators.required, Validators.min(0)]),\r\n      description: new FormControl('', [Validators.required]),\r\n      image: new FormControl('', [Validators.required]),\r\n      soldCount: new FormControl(0),\r\n    });\r\n  }\r\n  onProductSave() {\r\n    let product = this.productForm.value;\r\n    this.store.dispatch(ProductActions.AddProduct({ ...product }));\r\n  }\r\n\r\n  selectfile(event) {\r\n    var files = event.target.files;\r\n\r\n    if (files && files[0]) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(files[0]);\r\n      reader.onload = (event) => {\r\n        this.imageUrl = event.target.result.toString();\r\n        this.productForm.patchValue({\r\n          image: event.target.result,\r\n        });\r\n        this.productForm.get('image').updateValueAndValidity();\r\n        this.showImage = true;\r\n      };\r\n    }\r\n  }\r\n}\r\n","<div class=\"row \">\r\n  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 container\">\r\n    <form [formGroup]=\"productForm\"\r\n          role=\"form\"\r\n          (ngSubmit)=\"onProductSave()\">\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 \">\r\n          <div class=\"grey_background\">\r\n            <h3>Add Product</h3>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"name\">Product Name</label>\r\n              <input type=\"text\"\r\n                     class=\"form-control input_transparent\"\r\n                     id=\"name\"\r\n                     formControlName=\"name\"\r\n                     placeholder=\"Enter product name\"\r\n                     autocomplete=\"off\">\r\n              <small class=\"form-text text-muted\"\r\n                     *ngIf=\"productForm.get('name').touched && productForm.get('name').invalid\">\r\n                This field cannot be empty\r\n              </small>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"price\">Price</label>\r\n              <input type=\"number\"\r\n                     class=\"form-control input_transparent\"\r\n                     id=\"price\"\r\n                     formControlName=\"price\"\r\n                     placeholder=\"Enter price\"\r\n                     autocomplete=\"off\">\r\n              <small class=\"form-text text-muted\"\r\n                     *ngIf=\"productForm.get('price').touched && productForm.get('price').invalid\">\r\n                This field cannot be empty\r\n              </small>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"description\">Description</label>\r\n              <textarea type=\"text\"\r\n                        class=\"form-control input_transparent\"\r\n                        id=\"description\"\r\n                        formControlName=\"description\"\r\n                        placeholder=\"Enter description\"\r\n                        autocomplete=\"off\">\r\n              </textarea>\r\n              <small class=\"form-text text-muted\"\r\n                     *ngIf=\"productForm.get('description').touched && productForm.get('description').invalid\">\r\n                This field cannot be empty\r\n              </small>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n          <div class=\"grey_background\">\r\n            <div class=\"form-group\">\r\n              <label for=\"price\">Product Image</label>\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-10 col-lg-8 offset-md-1 offset-lg-2\">\r\n                  <div class=\"border_grey image_container\">\r\n                    <img [src]=\"imageUrl\"\r\n                         *ngIf=\"showImage\"\r\n                         alt=\"\"\r\n                         class=\"product_image\">\r\n                  </div>\r\n                  <!-- <div class=\"d-flex justify-content-center\"> -->\r\n                  <input type=\"file\"\r\n                         (change)=\"selectfile($event)\"\r\n                         class=\"form-control-file\"\r\n                         id=\"file_upload\">\r\n                  <!-- </div> -->\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 button_container\">\r\n          <button type=\"submit\"\r\n                  class=\"btn primary_button\">\r\n            SUBMIT\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.css']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>\r\n"],"sourceRoot":"webpack:///"}